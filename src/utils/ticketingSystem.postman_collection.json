{
	"info": {
		"_postman_id": "c08ad51d-29d0-4b76-a584-7c207811134a",
		"name": "Ticketing_System testing",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "Auth",
			"item": [
				{
					"name": "Register user Mike (form)",
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "urlencoded",
							"urlencoded": [
								{
									"key": "firstName",
									"value": "Mike",
									"type": "text"
								},
								{
									"key": "lastName",
									"value": "Owen",
									"type": "text"
								},
								{
									"key": "country",
									"value": "England",
									"type": "text"
								},
								{
									"key": "email",
									"value": "aca_node_group3@mail.ru",
									"type": "text"
								},
								{
									"key": "password",
									"value": "11112222",
									"type": "text"
								}
							],
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{baseUrl}}/auth/register",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"auth",
								"register"
							]
						}
					},
					"response": []
				},
				{
					"name": "Register user Frank (JSON)",
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"firstName\": \"Frank\",\r\n    \"lastName\": \"Smith\",\r\n    \"country\": \"United States\",\r\n    \"email\": \"nodejs.project.group3@gmail.com\",\r\n    \"password\": \"22446688\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{baseUrl}}/auth/register",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"auth",
								"register"
							]
						},
						"description": "Register John Doe"
					},
					"response": []
				},
				{
					"name": "Verification link",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/auth/verify/",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"auth",
								"verify",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "Login",
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "urlencoded",
							"urlencoded": [
								{
									"key": "email",
									"value": "nodejs.project.group3@gmail.com",
									"type": "text"
								},
								{
									"key": "password",
									"value": "22446688",
									"type": "text"
								}
							],
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{baseUrl}}/auth/login",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"auth",
								"login"
							]
						}
					},
					"response": []
				},
				{
					"name": "Resend verification link",
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"email\": \"aca_node_group3@mail.ru\",\r\n    \"password\": \"11112222\",\r\n    \"resend-verification-link\": true\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{baseUrl}}/auth/login",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"auth",
								"login"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Profile",
			"item": [
				{
					"name": "Profile request with access-token",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "{{Authorization}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/profile",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"profile"
							]
						}
					},
					"response": []
				},
				{
					"name": "Profile request with refresh-token",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJwcm9maWxlLWlkIjoiNjIzZGFjNDYzOTc3NDNjMzczNzY2MTE5IiwiaWF0IjoxNjQ4MjEwODY2LCJleHAiOjE2NTg1Nzg4NjZ9.-rt58s7YfbaQP7BCkfj6MI4DDn73DDKqJ3mAkRnL1c0",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/profile",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"profile"
							]
						}
					},
					"response": []
				},
				{
					"name": "Logout",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "{{Authorization}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/profile/logout",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"profile",
								"logout"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Orders",
			"item": [
				{
					"name": "/my-orders",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "profile-id",
								"value": "6234b8871ba1a75a9e029e5b",
								"type": "default",
								"disabled": true
							},
							{
								"key": "Authorization",
								"value": "{{Authorization}}",
								"type": "default"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/profile/my-orders",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"profile",
								"my-orders"
							]
						}
					},
					"response": []
				},
				{
					"name": "/my-orders/orderId",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "profile-id",
								"value": "6234b8871ba1a75a9e029e5b",
								"type": "default",
								"disabled": true
							},
							{
								"key": "Authorization",
								"value": "{{Authorization}}",
								"type": "default"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{baseUrl}}/profile/my-orders/6239d953029f22265a2361f1",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"profile",
								"my-orders",
								"6239d953029f22265a2361f1"
							]
						}
					},
					"response": []
				},
				{
					"name": "/my-orders/orderId/ticketId",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "profile-id",
								"value": "6234b8871ba1a75a9e029e5b",
								"type": "default",
								"disabled": true
							},
							{
								"key": "Authorization",
								"value": "{{Authorization}}",
								"type": "default"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/profile/my-orders/623dc9bd0b9bcf9263011459/623dbe226f2ff4cb22d3b4c1",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"profile",
								"my-orders",
								"623dc9bd0b9bcf9263011459",
								"623dbe226f2ff4cb22d3b4c1"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "My Tickets",
			"item": [
				{
					"name": "DeleteTicket",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "{{Authorization}}",
								"type": "default"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{baseUrl}}/profile/my-tickets/623dbe226f2ff4cb22d3b4c1",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"profile",
								"my-tickets",
								"623dbe226f2ff4cb22d3b4c1"
							]
						}
					},
					"response": []
				},
				{
					"name": "Update Ticket",
					"request": {
						"method": "PATCH",
						"header": [
							{
								"key": "Authorization",
								"value": "{{Authorization}}",
								"type": "default"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"countries\":[\"England\", \"Italy\"]\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{baseUrl}}/profile/my-tickets/623dbe776f2ff4cb22d3b4c5",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"profile",
								"my-tickets",
								"623dbe776f2ff4cb22d3b4c5"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get my tickets",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "profile-id",
								"value": "6234b8871ba1a75a9e029e5b",
								"type": "default",
								"disabled": true
							},
							{
								"key": "Authorization",
								"value": "{{Authorization}}",
								"type": "default"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/profile/my-tickets",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"profile",
								"my-tickets"
							]
						}
					},
					"response": []
				},
				{
					"name": "Create new ticket",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "profile-id",
								"value": "6234b8871ba1a75a9e029e5b",
								"type": "default",
								"disabled": true
							},
							{
								"key": "Authorization",
								"value": "{{Authorization}}",
								"type": "default"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"name\": \"gallery exposition\",\r\n    \"description\": \"historical exposition\",\r\n    \"date\": \"2022-05-23\",\r\n    \"price\": \"15.5\",\r\n    \"quantity\": \"1000\",\r\n    \"canCancel\": \"true\",\r\n    \"cancelDate\": \"2022-05-20\",\r\n    \"countries\": [\"United States, England\"]\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{baseUrl}}/profile/my-tickets",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"profile",
								"my-tickets"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Tickets",
			"item": [
				{
					"name": "Get ticket comments",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "{{Authorization}}",
								"type": "default"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{baseUrl}}/tickets/623dbe776f2ff4cb22d3b4c5/comments",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"tickets",
								"623dbe776f2ff4cb22d3b4c5",
								"comments"
							]
						}
					},
					"response": []
				},
				{
					"name": "Add a comment to ticket",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "{{Authorization}}",
								"type": "default"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"content\": \"Awful performance.\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{baseUrl}}/tickets/623dbe776f2ff4cb22d3b4c5/comments",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"tickets",
								"623dbe776f2ff4cb22d3b4c5",
								"comments"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get All Tickets",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "{{Authorization}}",
								"type": "default"
							}
						],
						"body": {
							"mode": "urlencoded",
							"urlencoded": [
								{
									"key": "email",
									"value": "mikeowen@gmail.com",
									"type": "text",
									"disabled": true
								},
								{
									"key": "password",
									"value": "11112222",
									"type": "text",
									"disabled": true
								}
							]
						},
						"url": {
							"raw": "{{baseUrl}}/tickets/",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"tickets",
								""
							],
							"query": [
								{
									"key": "price[lte]",
									"value": "2000",
									"disabled": true
								},
								{
									"key": "sort",
									"value": "-price",
									"description": "descending order",
									"disabled": true
								},
								{
									"key": "sort",
									"value": "date",
									"description": "ascending oredr",
									"disabled": true
								},
								{
									"key": "sort",
									"value": "price,-name",
									"description": "by \"price\" in asc. order, then by \"name\" in des. order",
									"disabled": true
								},
								{
									"key": "date[lte]",
									"value": "2022-12-10",
									"disabled": true
								},
								{
									"key": "date[gte]",
									"value": "2022-05-20",
									"disabled": true
								},
								{
									"key": "sort",
									"value": "likeCount",
									"disabled": true
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "/ticketId/_buy",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "{{Authorization}}",
								"type": "default"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{baseUrl}}/tickets/623dbe226f2ff4cb22d3b4c1/_buy",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"tickets",
								"623dbe226f2ff4cb22d3b4c1",
								"_buy"
							]
						}
					},
					"response": []
				},
				{
					"name": "/ticletId/_like",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "{{Authorization}}",
								"type": "default"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/tickets/623dbea96f2ff4cb22d3b4c9/_like",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"tickets",
								"623dbea96f2ff4cb22d3b4c9",
								"_like"
							]
						}
					},
					"response": []
				},
				{
					"name": "/ticketId",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "{{Authorization}}",
								"type": "default"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/tickets/623dbe776f2ff4cb22d3b4c5",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"tickets",
								"623dbe776f2ff4cb22d3b4c5"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Shopping Card",
			"item": [
				{
					"name": "Remove ticket from shopping card",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "{{Authorization}}",
								"type": "default"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/shopping-card/:ticketId",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"shopping-card",
								":ticketId"
							],
							"variable": [
								{
									"key": "ticketId",
									"value": ""
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Buy tickets from shopping card",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "{{Authorization}}",
								"type": "default"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/shopping-card/_buy",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"shopping-card",
								"_buy"
							]
						}
					},
					"response": []
				},
				{
					"name": "Show tickets in shopping card",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "{{Authorization}}",
								"type": "default"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/shopping-card",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"shopping-card"
							]
						}
					},
					"response": []
				},
				{
					"name": "Add ticket to shopping card",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "{{Authorization}}",
								"type": "default"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/tickets/623dbe776f2ff4cb22d3b4c5/_addToCard",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"tickets",
								"623dbe776f2ff4cb22d3b4c5",
								"_addToCard"
							]
						}
					},
					"response": []
				},
				{
					"name": "Empty shopping card",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "{{Authorization}}",
								"type": "default"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/shopping-card/",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"shopping-card",
								""
							]
						}
					},
					"response": []
				}
			]
		}
	],
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		}
	],
	"variable": [
		{
			"key": "baseUrl",
			"value": "https://ticketing-system-3.herokuapp.com",
			"type": "default"
		},
		{
			"key": "Authorization",
			"value": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJwcm9maWxlLWlkIjoiNjIzZGFmYjIwYTgxOWQ0NzFlMmMzNDE1IiwiaWF0IjoxNjQ4MjI4NTc2LCJleHAiOjE2NDgyMzU3NzZ9.8zOQh_hl8MC7yR7NqP7Nhp0d1JRDiSxxEHKyLiTfNWA",
			"type": "default"
		}
	]
}